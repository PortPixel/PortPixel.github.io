"undefined"==typeof anxDebug&&(anxDebug=function(msg){});var JSUtil={isNull:function(v){return null==v},isNotNull:function(v){return null!=v},isEmpty:function(v){return null==v||0===v.length},isNotEmpty:function(v){return null!=v&&0<v.length},isBlank:function(s){return this.isEmpty(this.trim(s))},isNumber:function(v){return"number"==typeof v},isFunction:function(f){return null!==f&&"function"==typeof f},trim:function(s){return this.isNull(s)?null:0===s.length?s:s.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},defaultVal:function(v,defaultValue){return null==v||""===v?void 0===defaultValue?null:defaultValue:v},defaultIntVal:function(v,defaultValue){var n=parseInt(v,10);return isNaN(n)?defaultValue:n},optionalVal:function(x,defaultValue){return this.defaultVal(window[x],defaultValue)},optionalProperty:function(obj,property,defaultValue){var o=this.optionalVal(obj);return null===o?defaultValue:this.defaultVal(o[property],defaultValue)},merge:function(o1,o2){var p,o={};if(this.isNotNull(o1))for(p in o1)o1.hasOwnProperty(p)&&(o[p]=o1[p]);if(this.isNotNull(o2))for(p in o2)o2.hasOwnProperty(p)&&(o[p]=o2[p]);return o},hash:function(s){return JSUtil.masher()(s)},masher:function(){var n=4022871197;return function(data){data=data.toString();for(var i=0;i<data.length;i++){var h=.02519603282416938*(n+=data.charCodeAt(i));h-=n=h>>>0,n=(h*=n)>>>0,n+=4294967296*(h-=n)}return 2.3283064365386963e-10*(n>>>0)}},randomGenerator:null,setRandomSeed:function(){JSUtil.randomGenerator=function(args){var s0=0,s1=0,s2=0,c=1;0==args.length&&(args=[+new Date,window.location.href,document.cookie,navigator.userAgent]);var mash=JSUtil.masher();s0=mash(" "),s1=mash(" "),s2=mash(" ");for(var i=0;i<args.length;i++)(s0-=mash(args[i]))<0&&(s0+=1),(s1-=mash(args[i]))<0&&(s1+=1),(s2-=mash(args[i]))<0&&(s2+=1);mash=null;function r(){var t=2091639*s0+2.3283064365386963e-10*c;return s0=s1,s1=s2,s2=t-(c=0|t)}return r.uint32=function(){return 4294967296*r()},r.seed=args,r}(Array.prototype.slice.call(arguments))},getRandomGenerator:function(){return null===JSUtil.randomGenerator&&JSUtil.setRandomSeed(),JSUtil.randomGenerator},random:function(){return JSUtil.getRandomGenerator()()},randomInt:function(max){var n;if(JSUtil.isNotNull(window.crypto)&&JSUtil.isNotNull(window.crypto.getRandomValues)&&JSUtil.isNotNull(window.Uint32Array)){var buf=new Uint32Array(1);window.crypto.getRandomValues(buf),n=buf[0]}else n=JSUtil.getRandomGenerator().uint32();return n%=JSUtil.defaultVal(max,2147483646)+1},formatDateISO:function(d){function f(n){return n<10?"0"+n:n}var n;return!this.isNull(d)&&this.isFunction(d.getTime)&&isFinite(d.getTime())?d.getUTCFullYear()+"-"+f(d.getUTCMonth()+1)+"-"+f(d.getUTCDate())+"T"+f(d.getUTCHours())+":"+f(d.getUTCMinutes())+":"+f(d.getUTCSeconds())+"."+((n=d.getUTCMilliseconds())<100?(n<10?"00":"0")+n:n)+"Z":""},once:function(func){var result,funcCalled=!1;return function(){return funcCalled||(funcCalled=!0,result=func.apply(this,arguments),func=null),result}}},WebUtil={parseUrl:function(s){function nextToken(delim,eatDelim,eatIfAbsent){if(JSUtil.isEmpty(s))return null;var i=s.indexOf(delim),token=s;if(i<0){if(!JSUtil.defaultVal(eatIfAbsent,!0))return null;s=null}else token=0===i?null:s.substring(0,i),JSUtil.defaultVal(eatDelim,!0)&&(i+=delim.length),s=s.substring(i);return token}var u={host:null,port:null,page:null,fragment:null};u.scheme=nextToken("://",!0,!1);var h=nextToken("/",!1);if(JSUtil.isNotEmpty(h)){var hp=h.split(":");u.host=hp[0],u.port=1===hp.length?null:hp[1]}var pq=nextToken("#");if(u.fragment=s,s=pq,u.path=nextToken("?"),null!==u.path){var j=u.path.lastIndexOf("/");0<=j&&(u.page=u.path.substring(j+1),0===u.page.length&&(u.page=null))}return u.query=s,u},getParamValue:function(name,queryString){var q=queryString;if(JSUtil.isNull(q)){if(q=window.location.search,JSUtil.isEmpty(q))return null;"?"===q.charAt(0)&&(q="&"+q.substring(1))}else{if(JSUtil.isEmpty(q))return null;"&"!==q.charAt(0)&&(q="&"+q)}var i=q.indexOf("&"+name+"=");if(i<0)return null;i+=name.length+2;var j=q.indexOf("&",i);return j<0&&(j=q.length),i===j?null:decodeURIComponent(q.substring(i,j))},getAllParams:function(queryString){var obj={},q=queryString;if(JSUtil.isNull(q)&&(q=window.location.search),JSUtil.isEmpty(q))return obj;"?"===q.charAt(0)&&(q=q.substring(1));var i,j,p,params=q.split("&");for(i=0;i<params.length;i++)if(0<(j=(p=params[i]).indexOf("="))&&j<p.length-1){var v=p.substring(j+1).replace(/\+/g,"%20");obj[p.substring(0,j)]=decodeURIComponent(v)}return obj},makeQueryString:function(params){if(JSUtil.isNull(params))return"";var p,q="";for(p in params)if(params.hasOwnProperty(p)){var v=params[p];JSUtil.isNotNull(v)&&(q+="&"+p+"="+encodeURIComponent(v))}return q.substring(1)},getBrowserLanguage:function(){return JSUtil.isNotNull(navigator.language)?navigator.language:JSUtil.isNotNull(navigator.userLanguage)?navigator.userLanguage:JSUtil.isNotNull(navigator.browserLanguage)?navigator.browserLanguage:JSUtil.isNotNull(navigator.systemLanguage)?navigator.systemLanguage:null}},CookieUtil={checkCookiesEnabled:function(){var result=JSUtil.defaultVal(navigator.cookieEnabled);return null!==result?result:(this.setCookie("anxTest","1"),null!==this.getCookieValue("anxTest"))},getCookieValue:function(name){var c=" "+document.cookie,i=c.indexOf(" "+name+"=");if(i<0)return null;i+=name.length+2;var delim=";";'"'===c.charAt(i)&&(i++,delim='"');var j=c.indexOf(delim,i);return j<0&&(j=c.length),JSUtil.defaultVal(c.substring(i,j))},getEncodedCookieValue:function(name){var c=this.getCookieValue(name);return null!==c?decodeURIComponent(c):null},setCookie:function(name,value,domain,expires,encode){var c=name+"=";c+=encode?encodeURIComponent(value):value,JSUtil.isNotEmpty(domain)&&(c+="; domain="+domain),c+="; path=/",JSUtil.isNotNull(expires)&&(c+="; expires="+expires.toGMTString()),anxDebug("Set cookie "+c),document.cookie=c},setSessionCookie:function(name,value,domain,encode){this.setCookie(name,value,domain,null,encode)},setPermanentCookie:function(name,value,domain,encode,maxAgeSecs){var expires=(new Date).getTime();expires+=JSUtil.isNotNull(maxAgeSecs)?1e3*maxAgeSecs:315e9,this.setCookie(name,value,domain,new Date(expires),encode)},deleteCookie:function(name){document.cookie=name+"=; path=/; expires=Wed, 01 Apr 1970 00:00:00 GMT"},getChipValue:function(cookieName,chipName){return WebUtil.getParamValue(chipName,this.getCookieValue(cookieName))},getAllChips:function(cookieName){var c=this.getCookieValue(cookieName);return null===c?{}:WebUtil.getAllParams(c)},setChipValue:function(cookieValue,chipName,chipValue){var c="";if(JSUtil.isNotEmpty(cookieValue)){var i=(c="&"+cookieValue).indexOf("&"+chipName+"=");if(0<=i){var j=c.indexOf("&",i+1);j<0&&(j=c.length),c=c.substring(0,i)+c.substring(j,c.length)}}return chipName+"="+encodeURIComponent(chipValue)+c}},_UnifiedApi={config:null,cookiesEnabled:CookieUtil.checkCookiesEnabled(),cookieExpirationSecs:7776e3,shouldLogPageView:!1,shouldUpdateSession:!1,isNewSession:!1,lastEvent:0,appId:null,appVersion:null,appDate:null,domain:null,pixelUrl:null,uniqueUserId:null,referrerDomain:null,referrerKeyword:null,cookie:null,sessionCookie:null,now:null,sequence:1,jsStartTime:(new Date).getTime(),cookieChips:["u","fv","lv","nv","sn","od","ok","w","h","cd"],sessionCookieChips:["s","sv","sd","sp","sk","sc","so"],searchEngines:[[".google.","q"],[".yahoo.","p"],[".baidu.","wd"],[".bing.","q"],[".ask.","q"],[".aol.","q"],[".mywebsearch.","searchfor"],[".excite.",null,/\/excite\/ws\/results\/Web\/([^\/?]+)/i],[".altavista.","p"],[".lycos.","query"],[".teoma.","q"],[".search.","q"],[".search-results.","q"],[".earthlink.","q"],[".cnn.","query"],[".about.","q"],[".ehow.","s"],[".dogpile.",null,/\/dogpile\/ws\/results\/Web\/([^\/?]+)/i],[".blekko.",null,/\/ws\/([^\/?]+)/i],[".mamma.","q"],[".gigablast.","q"],[".snap.","query"],[".voila.","rdata"],[".virgilio.","qs"]],determineSystemTime:function(){var timeElapsed=(new Date).getTime()-this.jsStartTime;return JSUtil.defaultIntVal(this.config.systemTime,this.jsStartTime)+timeElapsed},logPageView:function(){this.loadConfig(),this.now=this.determineSystemTime(),this.loadInfo(),this.setCookies();var eventType,params=this.buildPixelUrlParams();if(this.shouldLogPageView)eventType="PageView";else{if(!JSUtil.defaultVal(this.config.backFillRequired,!1))return;eventType="BackFill",params.anxi=JSUtil.defaultVal(this.config.eventId,"")}this.logEvent(eventType,params),this.referrerDomain=null,this.referrerKeyword=null},updateCookies:function(){var oldCookie=this.cookie,oldSessionCookie=this.sessionCookie;this.parseCookies(),this.cookie=JSUtil.merge(oldCookie,this.cookie),this.sessionCookie=JSUtil.merge(oldSessionCookie,this.sessionCookie)},logEvent:function(eventType,params,callback){this.unobfuscatePageContext(params),this.updateCookies(),this.now=this.determineSystemTime(),this.updateSession(!0),this.setCookies(),this.callPixel(eventType,this.buildPixelUrlParams(params),callback),this.isNewSession=!1},loadConfig:function(){if(null===this.config){var config1=JSUtil.optionalVal("_UnifiedApiParams"),config2=JSUtil.optionalVal("_UnifiedApiParams2");this.config=JSUtil.merge(config2,config1);var i,allParams=["uniqueUser","appId","appVersion","appDate","logPageView","updateSession","domain","url","getAppParams","getAppCookieChips","backFillRequired","maxSession","pixelUrl"],len=allParams.length;for(i=0;i<len;i++){var s=allParams[i],s1="_anx"+s.substring(0,1).toUpperCase()+s.substring(1),o=JSUtil.optionalVal(s1);null!==o&&(this.config[s]=o)}this.config.suppressCookies&&(this.cookiesEnabled=!1),this.config.cookieExpirationMinutes&&(this.cookieExpirationSecs=60*this.config.cookieExpirationMinutes),this.config.url=this.unobfuscateLink(this.config.url)}},loadInfo:function(){this.shouldLogPageView=JSUtil.defaultVal(this.config.logPageView,!1),this.shouldUpdateSession=JSUtil.defaultVal(this.config.updateSession,!1),this.parseCookies(),this.getReferrer(),this.updateSession(!1);var c=this.cookie,scr=JSUtil.optionalVal("screen");null!==scr&&(c.w!=scr.width&&(window.backfillParam=window.backfillParam||{},window.backfillParam.pl_cm=!0),c.w=scr.width,c.h=scr.height,c.cd=scr.colorDepth)},parseCookies:function(){this.cookie=CookieUtil.getAllChips("uc"),this.sessionCookie=CookieUtil.getAllChips("ucs"),this.uniqueUserId=JSUtil.defaultVal(this.config.uniqueUser),JSUtil.isBlank(this.uniqueUserId)&&(this.uniqueUserId=JSUtil.defaultVal(this.cookie.u),JSUtil.isBlank(this.uniqueUserId)&&this.cookiesEnabled&&(this.uniqueUserId=this.generateUserId())),this.cookie.u=this.uniqueUserId},buildPixelUrlParams:function(params){var url=window.location.href,i=url.indexOf("?");0<i&&(url=url.substring(0,i));var p1={anxuu:this.uniqueUserId,anxa:this.getAppId(),anxv:this.getAppVersion(),anxd:this.getAppDate(),anxsn:this.getServerName(),anxu:url,anxl:JSUtil.defaultVal(this.config.browserLanguage,WebUtil.getBrowserLanguage()),anxlv:this.lastEvent,anxrd:this.referrerDomain,anxrk:this.referrerKeyword,anxsq:this.sequence++},p2=null,getAppParams=JSUtil.defaultVal(this.config.getAppParams);if(null!==getAppParams)try{p2=getAppParams()}catch(e){anxDebug("Exception in getAppParams: "+e)}return JSUtil.isNotNull(p2)&&(p1=JSUtil.merge(p1,p2)),JSUtil.isNotNull(params)&&(p1=JSUtil.merge(p1,params)),p1},emptyCookie:function(chipNames){var i,c={},len=chipNames.length;for(i=0;i<len;i++)c[chipNames[i]]="-";return c},setCookies:function(){if(this.cookiesEnabled){this.cookie=JSUtil.merge(this.emptyCookie(this.cookieChips),this.cookie),this.cookie.u=this.uniqueUserId;var getAppCookieChips=JSUtil.defaultVal(this.config.getAppCookieChips);if(null!==getAppCookieChips){var appChips=null;try{appChips=getAppCookieChips()}catch(e){anxDebug("Exception in getAppCookieChips: "+e)}JSUtil.isNotNull(appChips)&&(this.cookie=JSUtil.merge(this.cookie,appChips))}var c='"'+WebUtil.makeQueryString(this.cookie)+'"';CookieUtil.setPermanentCookie("uc",c,this.getDomain(),!1,this.cookieExpirationSecs),this.sessionCookie=JSUtil.merge(this.emptyCookie(this.sessionCookieChips),this.sessionCookie),c='"'+WebUtil.makeQueryString(this.sessionCookie)+'"',CookieUtil.setSessionCookie("ucs",c,this.getDomain())}},callPixel:function(eventType,params,callback){var callbackIsNull=JSUtil.isNull(callback);callback=callbackIsNull?anxDummy:JSUtil.once(callback),params.anxe=eventType,params.anxr=JSUtil.randomInt();try{var xmlhttp;(xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){_UnifiedApi.invokeCallback(xmlhttp,callback)},xmlhttp.open("POST",this.getPixelUrl(),!0),xmlhttp.withCredentials=!0,xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xmlhttp.send(WebUtil.makeQueryString(params))}catch(e){anxDebug("Exception in callPixel: "+e)}callbackIsNull||setTimeout(function(){callback(!1)},2e3)},invokeCallback:function(xmlhttp,callback){4==xmlhttp.readyState&&(200==xmlhttp.status?callback(!0,xmlhttp.responseText):callback(!1))},updateSession:function(isClientEvent){this.cookiesEnabled&&(this.lastEvent=Number(JSUtil.defaultIntVal(this.cookie.lv,0)),this.isNewSession||("-"===JSUtil.defaultVal(this.sessionCookie.s,"-")||this.now-this.lastEvent>6e4*JSUtil.defaultVal(this.config.maxSession,30))&&(anxDebug("No session or session expired: start new session"),this.setNewSession()),isClientEvent&&(this.cookie.fv=JSUtil.defaultIntVal(this.cookie.fv,this.now),this.cookie.lv=this.now,this.cookie.nv=Number(JSUtil.defaultIntVal(this.cookie.nv,0))+1))},setNewSession:function(){this.sessionCookie.s=JSUtil.randomInt(),this.sessionCookie.sv=this.now,this.sessionCookie.sd=this.referrerDomain,this.sessionCookie.sk=this.referrerKeyword,this.isNewSession=!0},getReferrer:function(){var d="none",k="-",r=document.referrer;if(JSUtil.isNotEmpty(r)){var u=WebUtil.parseUrl(r);d=u.host,u.page,k=this.extractKeyword(u)}this.referrerDomain=d,this.referrerKeyword=k,this.cookiesEnabled&&(this.isNewSession||!this.config.newSessionOnDomainChange||"none"===d||this.isSameDomain(d)||this.shouldUpdateSession&&(anxDebug("Different domain ("+d+"): start new session"),this.setNewSession()),JSUtil.isNull(this.cookie.od)&&(this.cookie.od=d,this.cookie.ok=k))},extractKeyword:function(u){if(null===u.host)return"-";var i,d,p,q=WebUtil.getAllParams(u.query);for(null===u.query&&null!==u.fragment&&(q=WebUtil.getAllParams(u.fragment)),i=0;i<this.searchEngines.length;i++)if(d=this.searchEngines[i][0],0<=u.host.indexOf(d)||0===u.host.indexOf(d.substring(1)))if(null===(p=this.searchEngines[i][1])){var match=this.searchEngines[i][2].exec(u.path);if(null!==match)return match[1]}else{var k=JSUtil.defaultVal(q[p],null);if(null!==k)return k}return"-"},isSameDomain:function(d){var d1=this.getDomain();return"."!==d.charAt(0)&&(d="."+d),!(d.length<d1.length)&&d.substring(d.length-d1.length)===d1},getPixelUrl:function(){if(null===this.pixelUrl&&(this.pixelUrl=JSUtil.defaultVal(this.config.url),null===this.pixelUrl)){var s=document.location.href,i=s.indexOf("?");0<i&&(s=s.substring(0,i)),0<(i=s.indexOf("#"))&&(s=s.substring(0,i)),0<(i=s.lastIndexOf("/"))&&(s=s.substring(0,i)),this.pixelUrl=s+"/anemone.jhtml",anxDebug("Using pixel URL "+this.pixelUrl)}return this.pixelUrl},getAppId:function(){return null===this.appId&&(this.appId=JSUtil.defaultVal(this.config.appId),null===this.appId&&(this.appId=document.location.hostname,anxDebug("Using app ID "+this.appId))),this.appId},getAppVersion:function(){return null===this.appVersion&&(this.appVersion=JSUtil.defaultVal(this.config.appVersion),null===this.appVersion&&(this.appVersion="-",anxDebug("Using app version "+this.appVersion))),this.appVersion},getAppDate:function(){if(null===this.appDate&&(this.appDate=JSUtil.defaultVal(this.config.appDate),null===this.appDate)){var d=JSUtil.optionalVal("document.lastModified");anxDebug("document.lastModified = "+d),null!==d&&(this.appDate=JSUtil.formatDateISO(new Date(d))),null===this.appDate&&(this.appDate="-"),anxDebug("Using app date "+this.appDate)}return this.appDate},getDomain:function(){if(null===this.domain&&(this.domain=JSUtil.defaultVal(this.config.domain),null===this.domain)){var h=document.location.hostname,i=h.lastIndexOf(".");0<i&&(h=0<(i=h.lastIndexOf(".",i-1))?h.substring(i):"."+h),this.domain=h,anxDebug("Using domain "+h)}return this.domain},getServerName:function(){return JSUtil.defaultVal(this.config.serverName,"")},generateUserId:function(){var i,s=[];for(i=0;i<36;i++)s[i]=8===i||13===i||18===i||23===i?"-":"0123456789ABCDEF".substr(JSUtil.randomInt(15),1);return s[14]="4",s[19]="0123456789ABCDEF".substr(3&s[19]|8,1),s.join("")},unobfuscateLink:function(str){return str=(str=(str=(str=(str=(str=str.replace(/\^/g,"/")).replace(/>/,"http:")).replace(/</,"www.")).replace(/\]/,".com")).replace(/\[/,".net")).replace(/\}/,".us")},unobfuscatePageContext:function(context){if(context.anxu&&(context.anxu=this.unobfuscateLink(context.anxu)),context.anuaapp){var anuaapp=JSON.parse(context.anuaapp);anuaapp.category&&(anuaapp.category=this.unobfuscateLink(anuaapp.category),context.anuaapp=JSON.stringify(anuaapp))}},addURLParam:function(url,paramKey,paramVal){if(paramVal){var frInd=url.indexOf("#"),fragment="";0<=frInd&&(fragment="#"+url.substring(frInd+1),url=url.replace(fragment,"")),url=url+(-1<url.indexOf("?")?"&"+paramKey+"=":"?"+paramKey+"=")+paramVal+fragment}return url}};try{_UnifiedApi.logPageView()}catch(e){anxDebug("Exception in logPageView: "+e)}function anxDummy(){}var TIMING_PROPERTIES=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];function getNavigationTimingInfo(window){var timing,navigation,navInfo=null,navStart=0,performance=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;if(performance){if(navInfo={},timing=performance.timing){navStart=timing.navigationStart;for(var i=0;i<TIMING_PROPERTIES.length;i++){var property=TIMING_PROPERTIES[i];navInfo[property]=Math.max(timing[property]-navStart,0)}}(navigation=performance.navigation)&&(navInfo.redirectCount=navigation.redirectCount,navInfo.navType=navigation.type)}return navInfo}